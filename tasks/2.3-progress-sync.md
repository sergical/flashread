# Task 2.3: Reading Progress Sync (Resume)

**Status:** pending  
**Phase:** 2 - Sync & Analytics  
**Depends on:** Task 2.2  
**Estimated Time:** 30 minutes

## Goal

Allow users to resume reading across devices.

## Steps

### 1. Database Table
```sql
CREATE TABLE reading_progress (
  user_id UUID REFERENCES profiles(id),
  url TEXT,
  title TEXT,
  current_index INT,
  total_words INT,
  updated_at TIMESTAMP DEFAULT NOW(),
  PRIMARY KEY (user_id, url)
);

ALTER TABLE reading_progress ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own progress" ON reading_progress
  FOR ALL USING (auth.uid() = user_id);
```

### 2. API Endpoints
- [ ] `PUT /api/sync/progress` - Save current position
- [ ] `GET /api/sync/progress?url=...` - Get progress for URL

### 3. Extension Integration
- [ ] Save progress every 30 seconds during reading
- [ ] On page visit, check for existing progress
- [ ] Show "Resume from word X/Y?" prompt
- [ ] Clear progress when session completes

### 4. Resume UI
```
┌─────────────────────────────────────┐
│  Continue where you left off?       │
│                                     │
│  "Article Title..."                 │
│  Word 450 of 2,000 (22%)           │
│                                     │
│  [Start Over]  [Resume Reading]     │
└─────────────────────────────────────┘
```

## Acceptance Criteria

- [ ] Progress saved periodically during reading
- [ ] Resume prompt shown on revisit
- [ ] Works across different devices
- [ ] Progress cleared on session complete
